\documentclass[leqno, 12pt, twoside,letterpaper]{book}
\usepackage{makeidx}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}%
\usepackage{amsthm}
\usepackage{titlesec}
\usepackage{amsmath}
\usepackage{charter}
\usepackage[bitstream-charter]{mathdesign}
\usepackage{framed}
%\usepackage[a4paper]{geometry}
\usepackage[right=1.1in, left=1.2in]{geometry}
\usepackage{bm}
\usepackage{enumitem}
\usepackage[strict]{changepage}
\usepackage[most]{tcolorbox}

\theoremstyle{plain}
\newtheorem{thm}{Teorema}[chapter]
\newtheorem{lem}[thm]{Lema}
\newtheorem{cor}[thm]{Corolario}

\theoremstyle{definition}
\newtheorem*{ex}{Ejemplo}
\newtheorem*{exs}{Ejemplos}
\newtheorem*{thmx}{Teorema}
\newtheorem{propi}[thm]{Propiedad}
\newtheorem{prop}[thm]{Proposición}
%\newtheorem{ej}[thm]{Ejercicio}

\newtheorem*{notacion}{Notación:}

\newcommand{\va}[1][\mathbb]{#1}
\newcommand{\prob}[1][\mathbb]{#1}
\newcommand{\dist}[1][\mathcal]{#1}
\newcommand{\cond}[2]{\{ #1 \, | \, #2 \}}
\newcommand{\set}[2]{\{ #1 \, : \, #2 \}}
\newcommand{\bgamma}[0]{\bm{\Gamma}}
\newcommand{\ba}[0]{\bm{A}}
\newcommand{\FORM}[0]{\bm{FORM}}
\newcommand{\naturals}[0]{\mathbb{N}}
\newcommand{\sii}[0]{\Longleftrightarrow}
\newcommand{\union}[0]{\cup}
\newcommand{\class}[1][\mathcal]{#1}
\newcommand{\PRC}[0]{\bm{PRC}}
\newcommand{\HALT}[2]{\bm{HALT}(#1, #2)}
\newcommand{\func}[3]{#1 \colon #2 \to #3}
\newcommand{\TeoN}[0]{\mbox{Teo}(\mathcal{N})}
\newcommand{\ARITH}[0]{\mathcal{N}}
\newcommand{\MODEL}[0]{\mathscr{M}}
\newcommand{\TOT}[0]{\bm{TOT}}
\newcommand{\NTOT}[0]{\bm{\bar{TOT}}}


\newcounter{excounter}

\newenvironment{solucion}[0]{\begin{adjustwidth}{1.5em}{1.5em}}{\end{adjustwidth}}\newenvironment{teo}[1]{\refstepcounter{thm}\noindent\textbf{Teorema~\thethm \,  (#1):} }{}
\newenvironment{dem}[0]{\noindent\textbf{Demostración:}}{}
\newenvironment{defi}[0]{\refstepcounter{thm}\noindent\textbf{Definición:}}{}

\newtcolorbox{exbox}[0]{
                colback=white!80!gray,
				colframe=white}
			
\newenvironment{ej}[1]{\noindent\stepcounter{excounter} \begin{exbox}\textbf{\arabic{excounter}} (#1).}{\end{exbox}}
	
%\newtheorem{ej}{}

\newcommand{\twopartdef}[4]
{
	\left\{
		\begin{array}{ll}
			#1 & \mbox{si } #2 \\
			#3 & \mbox{} #4
		\end{array}
	\right.
}

\newcommand{\twopartdeftwo}[4]
{
	\left\{
		\begin{array}{ll}
			#1 & \mbox{si } #2 \\
			\\
			#3 & \mbox{si } #4
		\end{array}
	\right.
}

\newenvironment{obs}
  {\begin{framed}}
  {\end{framed}}



\titleformat{\chapter}[display]{\normalfont\bfseries}{}{0pt}{\Huge}
\frenchspacing


\title{Ejercicios para el final de Lógica y Computabilidad.}

\begin{document}

\maketitle
\section*{Computabilidad}

\begin{ej}{13}
    Resolver los siguientes puntos:
    \begin{enumerate}
        \item Definir un conjunto de índices.
        \item Dar un ejemplo de un conjunto de índices y uno que no lo sea
        \item Enunciar y demostrar el teorema de Rice
    \end{enumerate}
\end{ej}

\begin{solucion}
\textbf{1.} Sea $\class{C}$ una clase de funciónes parciales computables. Entonces el conjunto de índices $A$ se define como
\[
	A = \set{x}{\phi_{x} \in \class{C}}
\]
Notar que si $x \neq y$, $x \in A\,$ y $\,\phi_{x} = \phi_{y}$ entonces $y \in A$.

\noindent\textbf{2.}

\begin{teo}{Rice}Sea $A$ un conjunto de índices, entonces si $A \neq \emptyset$ ó $A \neq \naturals$ entonces $A$ no es computable. Es decir si $A$ no es un conjunto trivial entonces no es computable.
\end{teo}

\begin{dem}
	Supongamos que $A$ es computable, esto significa que tenemos una función $h$ computable que computa la pertenencia en $A$.

	\[
	h(x) = \twopartdef{1}{x \in A.}
					  {0}{\mbox{si no.}}
	\]

	\noindent Además como $A$ no es trivial por lo menos existen dos funciones $f \in \class{C}$ y $g \not\in \class{C}$ computables.

	\noindent Entonces definimos $d$ como

	\[
		d(t, x) = \twopartdef{g(x)}{h(t).}
							 {f(x)}{\mbox{si no.}}
	\]

	\noindent Esta función también es computable y por el teorema de la recursión existe $e \in \naturals$ tal que
	\[
	\phi_{e}(x) = d(e, x)
	\]

	\noindent Pero entonces tenemos que:

	\[ e \in A \implies \phi_{e}(x) = g(x) \implies \phi_{e}(x) \not\in \class{C} \implies e \not\in A\]
	\[ e \not\in A \implies \phi_{e}(x) = f(x) \implies \phi_{e}(x) \in \class{C} \implies e \in A\]

	\noindent Llegamos a una contradicción que vino de suponer que $A$ era computable.

\end{dem}
\end{solucion}

\begin{ej}{5}
    Demostrar que una función es $p.r.$ si y solo si pertenece a toda clase
    $\PRC$
\end{ej}

\begin{solucion}

\begin{defi} Una función es primitiva recursiva (p.r.) si se puede obtener a partir de las funciones iniciales por un número finito de aplicaciones de composición y recursión primitiva.
\end{defi}

\begin{dem}
$\Rightarrow)$ Sea $\class{C}$ una clase $\PRC$, como $f$ p.r. hay una lista

	\[ f_1, f_2, \cdots, f_n \]

	TODO(Inducción)

\noindent $\Leftarrow)$ Las funciones p.r. son una clase $\PRC$ en particular si $f$ pertenece a toda clase $\PRC$ tiene que pertenecer a la clase de las funciones p.r., osea que $f$ es p.r.
\end{dem}
\end{solucion}

\begin{ej}{4}
    Probar que $\bm{TOT}$ no es $c.e.$ ni $co-c.e.$
\end{ej}

\begin{solucion}

$\TOT$ no c.e.: Supongamos que $\TOT$ es c.e., entonces existe una función parcial computable total $f$ cuyo rango es $\TOT$. Existe $e$ tal que $\phi_{e}(x) = \phi_{f(x)}(x) + 1$. Pero entonces $e$ es total por que existe un $k \in \naturals$ tal que $f(k) = e$, entonces
\[ \phi_{e}(x) = \phi_{f(k)}(x) = \phi_{f(x)}(x) + 1 \] 

\noindent Si tomamos $x = k$ llegamos a una contradicción, vino de suponer que $\TOT$ es c.e. 

\end{solucion}

\begin{ej}{3}
    Enunciar el halting problem y demostrar que $\HALT{x}{y}$ no es computable.
\end{ej}

\begin{solucion}
\noindent $\func{\HALT{x}{y}}{\naturals^2}{\{0, 1\}} $ es la funcion que devuelve verdadero si el programa $x$ con entrada $y$ no se indefine:

	\[ \HALT{x}{y} = \twopartdef{1}{\psi_{P}(x) \downarrow}{0}{\mbox{si no.}}\]

\noindent El halting problem resulta de saber si esta función es o no computable.

\begin{thm} $\HALT{x}{y}$ no es computable.
\end{thm}
\begin{dem}
	Supongamos que lo es, entonces definimos la siguiente funcion $c$

	\[ c(x) = \twopartdef{\phi_x{(x)} + 1}{\HALT{x}{x}}{0}{\mbox{si no.}} \]

	\noindent Como $\HALT{x}{y}$ es computable entonces $c$ es computable y total, osea que $c(x) \downarrow$ para cualquier input. Además por universalidad existe un $e$ tal que $c(x) = \phi_{e}(x)$, tenemos que
	\[ \phi_{e}(x) = c(x) = \phi_{x}(x) + 1 \]

	\noindent pues $c$ es total. Si tomamos $x = e$ llegamos a una contradicción, vino de suponer que $\HALT{x}{y}$ es computable.
\end{dem}
\end{solucion}

\begin{ej}{2}
    $\ba \subseteq \naturals$ es computable $\sii$ $\ba$ y $\bar{\ba}$ son
    computablemente enumerables.
\end{ej}

\begin{solucion}

\begin{dem}
$\Rightarrow)$	Si $\ba$ es computable existe $c$ computable (?`Por qué?) tal que
		\[ c(x) = \twopartdef{1}{x \in \ba}{0}{\mbox{si no.}} \]

		\noindent Podemos además suponer que $\ba$ no es trivial ($\emptyset$ ó $\naturals$), entonces tomamos un elemento $k \in \ba$ y definimos
		\[ f(x) = \twopartdef{x}{c(x)}{k}{\mbox{si no.}} \]

	\noindent Como $c$ era computable $f$ es computable y además $f(\naturals) = \ba$. De la misma manera podemos construir $g$ tal que $g(\naturals) = \bar{\ba}$\\

	\noindent $\Leftarrow)$ Si $\ba$ y $\bar{\ba}$ son c.e. significa que tenemos $f$ y $g$ funciones computables tal que $f(\naturals) = \ba$ y $g(\naturals) = \bar{\ba}$, queremos una función que nos devuelva verdadero si un elemento pertenece a $\ba$, pero entonces es cuestion de probar si hay un $k \in \naturals$ tal que este en la imagen de $f$, no podemos loopear indefinidamente a riesgo de indefinirnos, por lo que hay que probar un elemento a la vez en $f$ y $g$, podemos definir entonces la siguiente función:
	\[ c(x) = \twopartdef{1}{f(\min\limits_{y}(f(y) = x \lor g(y) = x) = x}{0}{\mbox{si no.}} \]
\end{dem}

\noindent Esta función, a pesar de tener una minimización no acotada es total y devuelve true si la aparición de $x$ esta en $\ba$.
\end{solucion}

\begin{ej}{2}
    Enunciar y demostrar el teorema de la recursión.

    Variacion: demuéstrelo usando el teorema del parámetro.
\end{ej}

\begin{ej}{1}
    Demostrar que si $\bm{A}$ es $c.e.$ y $\bm{A} \neq \emptyset$, entonces
    $\bm{A}$ es el rango de una función p.r.
\end{ej}

\begin{solucion}
	Como $A$ es c.e. por definición $A = \set{x}{ g(x) \downarrow}$ donde $\func{g}{\naturals}{\naturals}$ es una función parcial computable, además como $A$ no es vacio por lo menos tiene un elemento $k$. Sea $e$ tal que $\phi_{e} = g$, entonces podemos definir la siguiente funcion, 
	\[ f(\langle x, t \rangle) = \twopartdef{x}{\mbox{STP}(\phi_e, t) = 1}{k}{\mbox{si no.}} \]
\noindent $\func{f}{\naturals}{\naturals}$ es computable (total) y además $f(\naturals) = A$, ya que si $x \in A$ entonces $\phi_e(x) \downarrow$ en algún paso $t$ de la ejecución y por lo tanto $f(\langle x, t \rangle) = x$.

\noindent Queda ver que $f$ es p.r., pero podemos expresar a $f$ como la composición de funciones p.r.
\[ f(\langle x, t \rangle) = x \, \mbox{STP}(\phi_e, t) \, + \, k \, \alpha(\mbox{STP}(\phi_e, t)) \]
\noindent ya que la suma, STP, $\alpha$ y los observadores de tuplas son p.r. Recordamos que $\alpha$ es:
	
	\[ \alpha(x) = \twopartdef{1}{x = 0.}{0}{\mbox{si } x \neq 0.}\] 
	
\end{solucion}

\begin{ej}{1}
    Probar que $\ba \subseteq \mathbb{N}$ es $c.e.$ si y solo si es imagen de
    una función $p.r.$
\end{ej}

\begin{ej}{1}
    La clase de funciones computables es una clase $\bm{PRC}$
\end{ej}

\begin{ej}{1}
    Probar que si $\ba$ y $\bm{B}$ son $c.e.$ entonces también lo son $\ba \cup
    \bm{B}$ y $\ba \cap \bm{B}$.
\end{ej}


\begin{ej}{1}
    Exhibir una función computable que no sea $p.r.$ y demostrarlo.
\end{ej}

\begin{ej}{1}
    Enunciar y demostrar el Teorema de punto fijo.
\end{ej}


\section*{Lógica Proposicional}

\begin{ej}{5}
    Usando el teorema de correctitud de la lógica proposicional, probar que
    $\bm{\Gamma}$ es un conjunto de fórmulas satisfacible entonces es
    consistente.
\end{ej}

\begin{ej}{4}
    \begin{enumerate}
    \item Definir consistente, maximal consistente.
    \item Enunciar y demostrar el teorema de Lindenbaum para lógica proposicional.
    \end{enumerate}
\end{ej}

\begin{solucion}
\textbf{1.} Un conjunto $\bm{\Gamma}$ es maximal consistente si: es consistente y para toda formula $\varphi$ tenemos que
\begin{enumerate}
	\item $\varphi \in \bm\Gamma$ ó
	\item Existe un $\psi$ tal que $\bm{\Gamma} \cup \{\varphi\} \vdash \psi$  y $\bm{\Gamma} \cup \{\varphi\} \vdash \lnot\psi$ entonces
\end{enumerate}

\begin{thm}[Lema de Lindenbaum] Si $\bm{\Gamma} \subseteq \FORM$ entonces existe un $\bm{\Gamma'}$ m.c. tal que $\bm{\Gamma} \subseteq \bm{\Gamma'}$
\end{thm}

\noindent Queremos expandir $\bgamma$ de manera que sea maximal y no deje de ser consistente. Consideremos entonces una numeración de todas las fórmulas $\varphi_1, \varphi_2, \cdots$ y definimos los siguientes conjuntos

\begin{itemize}
\renewcommand\labelitemi{$\sim$}
\item $\bgamma_0 = \bgamma$
\item $\bgamma_{n+1} = 
	\twopartdef{\bgamma_n \cup \{\varphi_{n + 1}\}}{\bgamma_n \cup \{\varphi_{n + 1}\} \mbox{es consistente.}}
			   {\bgamma_n}{\mbox{si no.}}$
\item $\bgamma' = \bigcup\limits_{k \geq 0} \bgamma_k$
\end{itemize}

\noindent Entonces afirmamos que $\bgamma'$ es m.c.

\noindent \textbf{Consistencia:} Supongamos que no lo es, entonces hay una formula $\psi$ tal que 
\[\bgamma \vdash \psi \mbox{ \, y \, } \bgamma \vdash \lnot \psi\]

\noindent Pero esto significa que en sus derivaciones hay un número finito de fórmulas
\[\{\gamma_1, \gamma_2, \cdots, \gamma_n\} \subseteq \bgamma'\]
\noindent Por lo tanto hay un $k$ lo suficientemente grande tal que 
\[\{\gamma_1, \gamma_2, \cdots, \gamma_n\} \subseteq \bgamma_k\]
pero entonces $\bgamma_k$ tampoco es consistente, lo cual contradice nuestra construcción.\\
 
\noindent\textbf{Maximal:} La maximalidad significa que dada una fórmula $\varphi$ o bien $\varphi \in \bgamma'$ ó si se la agregamos a $\bgamma'$ se hace inconsistente. \\ 
\noindent Entonces supongamos que $\varphi \not\in \bgamma'$. Tenemos que $\varphi$ debe aparecer en la numeración que hicimos sobre todas las fórmulas, por ejemplo en $\varphi_n$, pero entonces deberíamos haberla agregado en $\bgamma_n$, de lo cual tenemos que $\varphi_n \not\in \bgamma_n$ por lo tanto $\bgamma_{n - 1} \cup \varphi_n$ es inconsistente, de lo cual tenemos que $\bgamma' \cup \varphi_n$ es inconsistente.

\end{solucion}


\begin{ej}{1}
    Definir maximal consistente y demostrar que $\varphi$ es teorema de
    $\bgamma$ sii $\varphi \in \bgamma$.
\end{ej}

\section*{Lógica de primer orden}

\begin{ej}{8}
    Sea $\bm{\mathcal{L}} = \{0, S, <, +, *\}$ con igualdad y sea
    $\bm{\mathcal{N}} = \{\mathbb{N},
    0, S, <, +, *\}$ la $\bm{\mathcal{L}}$-estructura de primer orden con la
    interpretación usual. \\ Mostrar que existe un modelo de los naturales en donde
    valen todas las verdades de N, pero donde existe un elemento inalcanzable
    (desde el 0, usando la función sucesor).
\end{ej}

\noindent Variaciones del ejercicio anterior:

\begin{ej}{1}
    Demostrar que existen modelos de primer orden no estandard para la
    aritmética.
\end{ej}

\begin{ej}{1}
    Mostrar que existe un modelo no estandard de la aritmética.
\end{ej}

\begin{ej}{1}
    Demostrar que existen modelos no estándard de la aritmética en los que hay
    un elemento inalcanzable.
\end{ej}

\begin{solucion}
\begin{dem}
	Lo vamos a demostrar para un elemento inalcanzable aunque se podría hacer para la no igualdad (Ejemplo en el libro de metalógica). Sea
	 \[\TeoN = \set{\varphi \in \FORM}{ \varphi \mbox{ es sentencia y } \ARITH \models \varphi}\]
\noindent Entonces expandamos el lenguaje con una nueva constante $c$ y los siguientes axiomas
 \[ \bm{\Gamma} = \{ 0 < c, S(0) < c, S(S(0)) < c, \dots \} \]

\noindent Cada subconjunto finito de $\bm{\Gamma} \cup \TeoN$ tiene un modelo, ya que tenemos finitos axiomas de $\Gamma$ y por lo tanto existe un $c \in \naturals$ que cumple la condición.\\
\noindent Además por compacidad $\TeoN \cup \bm{\Gamma}$ tiene modelo. \\
\noindent Y por Löwenheim-Skolem tiene un modelo contable.

	\[ \MODEL = \langle M, 0^{\MODEL}, S^{\MODEL}, <^{\MODEL}, +^{\MODEL}, *^{\MODEL}, c^{\MODEL} \rangle \]

\noindent entonces tomemos $\MODEL'$ la restricción de $\MODEL$ al lenguaje original $\mathcal{L}$ de lo cual vemos que $\ARITH \models \varphi \iff \MODEL' $

\[ \ARITH \models \varphi \implies \varphi \in \TeoN \implies \MODEL \models \varphi \implies \MODEL' \models \varphi \]
\[ \ARITH \models \lnot\varphi \implies \lnot\varphi \in \TeoN \implies \MODEL \models \lnot\varphi \implies \MODEL' \models \lnot\varphi \]

\noindent Pero $\ARITH$ y $\MODEL'$ no son isomorfos ya que $c^{\MODEL}$ es un elemento inalcanzable en $\MODEL'$ es decir obtuvimos un modelo no estandar de la aritmética.

\end{dem}
\end{solucion}

\begin{solucion}

\textbf{Solución alternativa} (para alguno de los anteriores):
como un modelo estandar de la aritmética tiene un modelo infinito, por Löwenheim-Skolem tiene modelos de cardinalidad arbitraria ($\geq \aleph_0$) entonces un modelo no numerable de los naturales no puede ser estandar.

\end{solucion}

\begin{ej}{3}
    Demostrar que si $\bm{\Gamma}$ es un conjunto de fórmulas de logica proposicional
    tal que $\bm{\Gamma \subseteq FORM}$ es consistente entonces $\bm{\Gamma}$ es
    satisfacible.
\end{ej}

\begin{ej}{2}
    Enunciar y demostrar el teorema de la deducción.
\end{ej}

\begin{ej}{2}
    Dado $\bm{L}$ un lenguaje de primer oden con igualdad. Decidir si las
    siguientes afirmaciones son verdaderas o falsas.

    \begin{enumerate}
        \item Existe un conjunto $\bgamma$ tal que $\bgamma \models \ba$ si  y
            solo si $\ba$ tiene universo infinito.
        \item Existe un conjunto $\bgamma$ tal que $\bgamma \models \ba$ si y
            solo si A tiene universo finito.
        \item El conjunto $\bgamma$ del ítem 1 necesariamente es infinito.
    \end{enumerate}

\end{ej}


\begin{ej}{2}
    Probar que si una teoría de primer orden con igualdad tiene modelos
    arbitrariamente grandes, entonces tiene modelos infinitos.
\end{ej}

\begin{ej}{1}
    Sea $\bm{R}$ un conjunto $m.c.$:
    \begin{enumerate}
        \item Probar que $\alpha$ pertence a $\bm{R}$ si y solo si $\bm{R}$
            demuestra $\alpha$.
        \item Probar que o bien $\alpha \in \bm{R}$ o bien $\lnot\alpha \in
            \bm{R}$.

    \end{enumerate}
\end{ej}

\begin{ej}{1}
    Definir conjunto maximal consistence. \\
    Probar que si $\bgamma$ es maximal consistente entonces:
    \begin{enumerate}
        \item $\varphi \in \bgamma$ ó (excluyente) $\lnot\varphi \in \bgamma$.
        \item $\varphi \in \bgamma \sii \bgamma \models \varphi$ (consecuencia
            sintátctica).
    \end{enumerate}

\end{ej}

\begin{ej}{1}
    $\bgamma \union \{ \lnot\varphi \}$ es inconsistente $\sii \varphi$ es
    consecuencia sintátctica de $\bgamma$. (En lógica proposicional) (Dem: Galerazo,
    teorema de SP, se puede usar o alguno equivalente)
\end{ej}

\begin{ej}{1}
    \begin{enumerate}
    \item Dar un conjunto de fórmulas $\bgamma$ tal que $\bgamma$ es valida $\sii$ el
    modelo que satisface es infinito.
    \item ?`Existe una fórmula $\varphi$ tal que
    $\varphi$ es valida $\sii$ el modelo que la satisface es finito? ?`Por qué?
    \end{enumerate}
\end{ej}


\begin{ej}{1}
   Enumerar (y explicar brevemente) los pasos de la demostración de completitud
    en primer orden y mostrar el modelo canónico utilizado en la Demostración.
\end{ej}


\begin{ej}{1}
    Verdadero o Falso: $\bm{M} \models \varphi \sii \bm{M}$ es infinito.
\end{ej}

\begin{ej}{1}
    Demostrar que $\lnot\exists\varphi$ tal que es verdadera $\sii$ tiene modelo
    finito.
\end{ej}

\begin{ej}{1}
    Sea $\mathcal{L} = \{c, f\}$ un lenguaje de primer orden con igualdad donde
    $c$ es un símbolo de constante y $f$ un símbolo de función unaria.
    \begin{enumerate}
        \item Definir $\varphi, \psi \in \FORM(\mathcal{L})$ tal que:
            \begin{enumerate}
                \item $\varphi$ sea verdadera sii $c$ no pertenece al rango de
                    $f$
                \item $\psi$ sea verdadera sii $f$ es inyectiva
            \end{enumerate}
        \item Para $\theta = (\varphi \land \psi)$, probar que si $\ba \models
            \theta$ entonces $\ba$ es infinito.
        \item Definir $\theta' \in \FORM(\mathcal{L})$ tal que si $\ba$ es
            infinito entonces $\ba \models \theta'$.
        \item ?`Existe $\theta'' \in \FORM(\mathcal{L})$ tal que si $\ba$ es
            infinito si y solo si $\ba \models \theta''$? justificar.
    \end{enumerate}
\end{ej}

\end{document}
